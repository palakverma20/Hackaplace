{"ast":null,"code":"var _jsxFileName = \"E:\\\\Languages\\\\HTML\\\\Hackaplace\\\\hackaplace-frontend\\\\src\\\\components\\\\common\\\\AutoSuggestInput.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './AutoSuggestInput.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AutoSuggestInput = ({\n  label,\n  value,\n  onChange,\n  suggestions,\n  placeholder,\n  name,\n  required = false\n}) => {\n  _s();\n  const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(0);\n  const wrapperRef = useRef(null);\n  useEffect(() => {\n    // Close suggestions when clicking outside\n    function handleClickOutside(event) {\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n        setShowSuggestions(false);\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [wrapperRef]);\n  const handleChange = e => {\n    const userInput = e.target.value;\n\n    // Filter suggestions that contain the user's input\n    const unLinked = suggestions.filter(suggestion => suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1);\n    onChange(e); // Propagate change to parent\n    setFilteredSuggestions(unLinked);\n    setShowSuggestions(true);\n    setActiveSuggestionIndex(0);\n  };\n  const handleClick = e => {\n    // Determine the clicked value (handle both direct clicks and child element clicks)\n    const innerText = e.target.innerText;\n\n    // Create a synthetic event or just call onChange with the new value\n    // Here we'll manually trigger the parent's onChange if needed, \n    // but typically we just update the specific field value directly via a custom handler logic\n    // or by creating a synthetic event.\n\n    // Simulating the event object expected by handleChange/parent\n    const syntheticEvent = {\n      target: {\n        name: name,\n        value: innerText\n      }\n    };\n    onChange(syntheticEvent);\n    setFilteredSuggestions([]);\n    setShowSuggestions(false);\n  };\n  const handleKeyDown = e => {\n    // Enter key\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      // Only select if suggestions are visible and there's a match\n      if (showSuggestions && filteredSuggestions[activeSuggestionIndex]) {\n        const selectedValue = filteredSuggestions[activeSuggestionIndex];\n        const syntheticEvent = {\n          target: {\n            name: name,\n            value: selectedValue\n          }\n        };\n        onChange(syntheticEvent);\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n      }\n    }\n    // Up arrow\n    else if (e.keyCode === 38) {\n      if (activeSuggestionIndex === 0) {\n        return;\n      }\n      setActiveSuggestionIndex(activeSuggestionIndex - 1);\n    }\n    // Down arrow\n    else if (e.keyCode === 40) {\n      if (activeSuggestionIndex - 1 === filteredSuggestions.length) {\n        return;\n      }\n      setActiveSuggestionIndex(activeSuggestionIndex + 1);\n    }\n  };\n  const SuggestionsListComponent = () => {\n    return filteredSuggestions.length ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"suggestions\",\n      children: filteredSuggestions.map((suggestion, index) => {\n        let className;\n        // Flag the active suggestion with a class\n        if (index === activeSuggestionIndex) {\n          className = \"suggestion-active\";\n        }\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: className,\n          onClick: handleClick,\n          children: suggestion\n        }, suggestion, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this) :\n    // Optional: Show \"No suggestions\" message\n    // <div className=\"no-suggestions\">\n    //   <em>No suggestions, you're on your own!</em>\n    // </div>\n    null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"autosuggest-wrapper\",\n    ref: wrapperRef,\n    children: [label && /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"autosuggest-label\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: name,\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      value: value,\n      placeholder: placeholder,\n      required: required,\n      autoComplete: \"off\",\n      className: \"autosuggest-input\",\n      onFocus: () => {\n        if (value && filteredSuggestions.length === 0) {\n          // optionally re-trigger search or just show nothing\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), showSuggestions && value && /*#__PURE__*/_jsxDEV(SuggestionsListComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 36\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(AutoSuggestInput, \"mJTUEWX+7394XDdFSTOX0hH78Dw=\");\n_c = AutoSuggestInput;\nexport default AutoSuggestInput;\nvar _c;\n$RefreshReg$(_c, \"AutoSuggestInput\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","AutoSuggestInput","label","value","onChange","suggestions","placeholder","name","required","_s","filteredSuggestions","setFilteredSuggestions","showSuggestions","setShowSuggestions","activeSuggestionIndex","setActiveSuggestionIndex","wrapperRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleChange","e","userInput","unLinked","filter","suggestion","toLowerCase","indexOf","handleClick","innerText","syntheticEvent","handleKeyDown","keyCode","preventDefault","selectedValue","length","SuggestionsListComponent","className","children","map","index","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","type","onKeyDown","autoComplete","onFocus","_c","$RefreshReg$"],"sources":["E:/Languages/HTML/Hackaplace/hackaplace-frontend/src/components/common/AutoSuggestInput.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './AutoSuggestInput.css';\r\n\r\nconst AutoSuggestInput = ({ \r\n  label, \r\n  value, \r\n  onChange, \r\n  suggestions, \r\n  placeholder,\r\n  name,\r\n  required = false \r\n}) => {\r\n  const [filteredSuggestions, setFilteredSuggestions] = useState([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(0);\r\n  const wrapperRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Close suggestions when clicking outside\r\n    function handleClickOutside(event) {\r\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\r\n        setShowSuggestions(false);\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [wrapperRef]);\r\n\r\n  const handleChange = (e) => {\r\n    const userInput = e.target.value;\r\n    \r\n    // Filter suggestions that contain the user's input\r\n    const unLinked = suggestions.filter(\r\n      (suggestion) =>\r\n        suggestion.toLowerCase().indexOf(userInput.toLowerCase()) > -1\r\n    );\r\n\r\n    onChange(e); // Propagate change to parent\r\n    setFilteredSuggestions(unLinked);\r\n    setShowSuggestions(true);\r\n    setActiveSuggestionIndex(0);\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    // Determine the clicked value (handle both direct clicks and child element clicks)\r\n    const innerText = e.target.innerText;\r\n    \r\n    // Create a synthetic event or just call onChange with the new value\r\n    // Here we'll manually trigger the parent's onChange if needed, \r\n    // but typically we just update the specific field value directly via a custom handler logic\r\n    // or by creating a synthetic event.\r\n    \r\n    // Simulating the event object expected by handleChange/parent\r\n    const syntheticEvent = {\r\n        target: {\r\n            name: name,\r\n            value: innerText\r\n        }\r\n    };\r\n    \r\n    onChange(syntheticEvent);\r\n    setFilteredSuggestions([]);\r\n    setShowSuggestions(false);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    // Enter key\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      // Only select if suggestions are visible and there's a match\r\n      if (showSuggestions && filteredSuggestions[activeSuggestionIndex]) {\r\n        const selectedValue = filteredSuggestions[activeSuggestionIndex];\r\n        const syntheticEvent = {\r\n            target: {\r\n                name: name,\r\n                value: selectedValue\r\n            }\r\n        };\r\n        onChange(syntheticEvent);\r\n        setFilteredSuggestions([]);\r\n        setShowSuggestions(false);\r\n      }\r\n    }\r\n    // Up arrow\r\n    else if (e.keyCode === 38) {\r\n      if (activeSuggestionIndex === 0) {\r\n        return;\r\n      }\r\n      setActiveSuggestionIndex(activeSuggestionIndex - 1);\r\n    }\r\n    // Down arrow\r\n    else if (e.keyCode === 40) {\r\n      if (activeSuggestionIndex - 1 === filteredSuggestions.length) {\r\n        return;\r\n      }\r\n      setActiveSuggestionIndex(activeSuggestionIndex + 1);\r\n    }\r\n  };\r\n\r\n  const SuggestionsListComponent = () => {\r\n    return filteredSuggestions.length ? (\r\n      <ul className=\"suggestions\">\r\n        {filteredSuggestions.map((suggestion, index) => {\r\n          let className;\r\n          // Flag the active suggestion with a class\r\n          if (index === activeSuggestionIndex) {\r\n            className = \"suggestion-active\";\r\n          }\r\n          return (\r\n            <li className={className} key={suggestion} onClick={handleClick}>\r\n              {suggestion}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    ) : (\r\n      // Optional: Show \"No suggestions\" message\r\n      // <div className=\"no-suggestions\">\r\n      //   <em>No suggestions, you're on your own!</em>\r\n      // </div>\r\n      null\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"autosuggest-wrapper\" ref={wrapperRef}>\r\n      {label && <label className=\"autosuggest-label\">{label}</label>}\r\n      <input\r\n        type=\"text\"\r\n        name={name}\r\n        onChange={handleChange}\r\n        onKeyDown={handleKeyDown}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        required={required}\r\n        autoComplete=\"off\"\r\n        className=\"autosuggest-input\"\r\n        onFocus={() => {\r\n            if(value && filteredSuggestions.length === 0) {\r\n                 // optionally re-trigger search or just show nothing\r\n            }\r\n        }}\r\n      />\r\n      {showSuggestions && value && <SuggestionsListComponent />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoSuggestInput;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}